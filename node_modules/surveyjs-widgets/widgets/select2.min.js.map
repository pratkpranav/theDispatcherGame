{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./src/select2.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","init","Survey","$","widget","activatedBy","widgetIsLoaded","fn","select2","isFit","question","getType","activatedByChanged","this","JsonObject","metaData","removeProperty","addProperty","category","default","choices","dependsOn","visibleIf","obj","renderAs","addClass","htmlTemplate","afterRender","el","select2Config","settings","JSON","parse","$el","is","find","$otherElement","cssClasses","other","isSettingValue","comment","val","updateComment","isOtherSelected","show","hide","updateValueHandler","length","trigger","undefined","newOption","Option","append","updateChoices","empty","placeholder","showOptionsCaption","optionsCaption","allowClear","theme","disabled","isReadOnly","ajax","keepIncorrectValues","data","push","id","text","concat","visibleChoices","map","choice","clearIncorrectValues","querySelector","style","width","nextElementSibling","marginBottom","prop","readOnlyChangedCallback","registerFunctionOnPropertyValueChanged","on","e","setTimeout","renderedValue","target","removeData","preventDefault","valueChangedCallback","willUnmount","$select2","off","CustomWidgetCollection","Instance","addCustomWidget"],"mappings":"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","file":"widgets/select2.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widgets/select2\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widgets/select2\"] = factory();\n\telse\n\t\troot[\"widgets/select2\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","function init(Survey, $) {\n  $ = $ || window.$;\n  var widget = {\n    activatedBy: \"property\",\n    name: \"select2\",\n    widgetIsLoaded: function () {\n      return typeof $ == \"function\" && !!$.fn.select2;\n    },\n    isFit: function (question) {\n      if (widget.activatedBy == \"property\")\n        return (\n          question[\"renderAs\"] === \"select2\" &&\n          question.getType() === \"dropdown\"\n        );\n      if (widget.activatedBy == \"type\")\n        return question.getType() === \"dropdown\";\n      if (widget.activatedBy == \"customtype\")\n        return question.getType() === \"select2\";\n      return false;\n    },\n    activatedByChanged: function (activatedBy) {\n      if (!this.widgetIsLoaded()) return;\n      widget.activatedBy = activatedBy;\n      Survey.JsonObject.metaData.removeProperty(\"dropdown\", \"renderAs\");\n      if (activatedBy == \"property\") {\n        Survey.JsonObject.metaData.addProperty(\"dropdown\", {\n          name: \"renderAs\",\n          category: \"general\",\n          default: \"default\",\n          choices: [\"select2\", \"default\"],\n        });\n        Survey.JsonObject.metaData.addProperty(\"dropdown\", {\n          dependsOn: \"renderAs\",\n          category: \"general\",\n          name: \"select2Config\",\n          visibleIf: function (obj) {\n            return obj.renderAs == \"select2\";\n          },\n        });\n      }\n      if (activatedBy == \"customtype\") {\n        Survey.JsonObject.metaData.addClass(\"select2\", [], null, \"dropdown\");\n        Survey.JsonObject.metaData.addProperty(\"select2\", {\n          name: \"select2Config\",\n          category: \"general\",\n          default: null,\n        });\n      }\n    },\n    htmlTemplate:\n      \"<div><select style='width: 100%;'></select><textarea></textarea></div>\",\n    afterRender: function (question, el) {\n      var select2Config = question.select2Config;\n      var settings =\n        select2Config && typeof select2Config == \"string\"\n          ? JSON.parse(select2Config)\n          : select2Config;\n      if (!settings) settings = {};\n      var $el = $(el).is(\"select\") ? $(el) : $(el).find(\"select\");\n      var $otherElement = $(el).find(\"textarea\");\n      $otherElement.addClass(question.cssClasses.other);\n      $otherElement.bind(\"input propertychange\", function () {\n        if (isSettingValue) return;\n        question.comment = $otherElement.val();\n      });\n\n      var updateComment = function () {\n        $otherElement.val(question.comment);\n        if (question.isOtherSelected) {\n          $otherElement.show();\n        } else {\n          $otherElement.hide();\n        }\n      };\n      var isSettingValue = false;\n      var updateValueHandler = function () {\n        if (isSettingValue) return;\n        isSettingValue = true;\n        if ($el.find('option[value=\"' + (question.value || \"\") + '\"]').length) {\n          $el.val(question.value).trigger(\"change\");\n        } else {\n          if (\n            question.value !== null &&\n            question.value !== undefined &&\n            !question.isOtherSelected\n          ) {\n            var newOption = new Option(\n              question.value, //TODO if question value is object then need to improve\n              question.value,\n              true,\n              true\n            );\n            $el.append(newOption).trigger(\"change\");\n          }\n        }\n        updateComment();\n        isSettingValue = false;\n      };\n      var updateChoices = function () {\n        $el.select2().empty();\n        if (!settings.placeholder && question.showOptionsCaption) {\n          settings.placeholder = question.optionsCaption;\n          settings.allowClear = true;\n        }\n        if (!settings.theme) {\n          settings.theme = \"classic\";\n        }\n        settings.disabled = question.isReadOnly;\n        if (settings.ajax) {\n          $el.select2(settings);\n          question.keepIncorrectValues = true;\n        } else {\n          var data = [];\n          if (!!settings.placeholder || question.showOptionsCaption) {\n            data.push({ id: \"\", text: \"\" });\n          }\n          settings.data = data.concat(\n            question.visibleChoices.map(function (choice) {\n              return {\n                id: choice.value,\n                text: choice.text,\n              };\n            })\n          );\n          question.clearIncorrectValues();\n          $el.select2(settings);\n        }\n        // fixed width accrording to https://stackoverflow.com/questions/45276778/select2-not-responsive-width-larger-than-container\n        if (!!el.querySelector(\".select2\")) {\n          el.querySelector(\".select2\").style.width = \"100%\";\n        }\n        if (!!el.nextElementSibling) {\n          el.nextElementSibling.style.marginBottom = \"1px\";\n        }\n        updateValueHandler();\n      };\n\n      $otherElement.prop(\"disabled\", question.isReadOnly);\n      question.readOnlyChangedCallback = function () {\n        $el.prop(\"disabled\", question.isReadOnly);\n        $otherElement.prop(\"disabled\", question.isReadOnly);\n      };\n\n      question.registerFunctionOnPropertyValueChanged(\n        \"visibleChoices\",\n        function () {\n          updateChoices();\n        }\n      );\n      updateChoices();\n      $el.on(\"change\", function (e) {\n        setTimeout(function () {\n          question.renderedValue = e.target.value;\n          updateComment();\n        }, 1);\n      });\n      $el.on(\"select2:select\", function (e) {\n        setTimeout(function () {\n          question.renderedValue = e.target.value;\n          updateComment();\n        }, 1);\n      });\n      $el.on(\"select2:opening\", function (e) {\n        if ($(this).data(\"unselecting\")) {\n          $(this).removeData(\"unselecting\");\n          e.preventDefault();\n        }\n      });\n      $el.on(\"select2:unselecting\", function (e) {\n        $(this).data(\"unselecting\", true);\n        setTimeout(function () {\n          question.renderedValue = null;\n          updateComment();\n        }, 1);\n      });\n      question.valueChangedCallback = updateValueHandler;\n      updateValueHandler();\n    },\n    willUnmount: function (question, el) {\n      question.readOnlyChangedCallback = null;\n      question.valueChangedCallback = null;\n      var $select2 = $(el).find(\"select\");\n      if (!!$select2.data(\"select2\")) {\n        $select2\n          .off(\"select2:select\")\n          .off(\"select2:unselecting\")\n          .off(\"select2:opening\")\n          .select2(\"destroy\");\n      }\n    },\n  };\n\n  Survey.CustomWidgetCollection.Instance.addCustomWidget(widget);\n}\n\nif (typeof Survey !== \"undefined\") {\n  init(Survey, window.$);\n}\n\nexport default init;\n"],"sourceRoot":""}