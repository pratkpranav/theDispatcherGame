{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./src/select2-tagbox.js","webpack://[name]/./src/images/tagbox.svg"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","init","Survey","$","SvgRegistry","registerIconFromSvg","widget","title","iconName","widgetIsLoaded","fn","select2","defaultJSON","choices","htmlTemplate","isFit","question","getType","activatedByChanged","activatedBy","JsonObject","metaData","addClass","visible","addProperty","category","default","fixStyles","el","parentElement","querySelector","style","border","afterRender","self","this","select2Config","settings","JSON","parse","$el","is","find","willUnmount","placeholder","tags","allowAddNewTag","keepIncorrectValues","disabled","isReadOnly","theme","maxSelectedChoices","maximumSelectionLength","$otherElement","survey","css","checkbox","other","otherPlaceHolder","comment","val","updateComment","isOtherSelected","show","hide","updateValueHandler","hasSelectAll","isAllSelected","selectAllItemValue","concat","trigger","updateChoices","empty","ajax","data","visibleChoices","map","choice","id","text","isAllItemSelected","_propertyValueChangedFnSelect2","prop","readOnlyChangedCallback","registerFunctionOnPropertyValueChanged","valueChangedCallback","on","e","params","selectAll","select2Val","clearValue","renderedValue","Array","isArray","length","toString","splice","$select2","off","unRegisterFunctionOnPropertyValueChanged","undefined","pdfQuestionType","CustomWidgetCollection","Instance","addCustomWidget"],"mappings":"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","file":"widgets/select2-tagbox.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widgets/select2-tagbox\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widgets/select2-tagbox\"] = factory();\n\telse\n\t\troot[\"widgets/select2-tagbox\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","function init(Survey, $) {\n  const iconId = \"icon-tagbox\";\n  Survey.SvgRegistry && Survey.SvgRegistry.registerIconFromSvg(iconId, require('svg-inline-loader?classPrefix!./images/tagbox.svg'), \"\");\n  $ = $ || window.$;\n  var widget = {\n    name: \"tagbox\",\n    title: \"Tag box\",\n    iconName: iconId,\n    widgetIsLoaded: function () {\n      return typeof $ == \"function\" && !!$.fn.select2;\n    },\n    defaultJSON: {\n      choices: [\"Item 1\", \"Item 2\", \"Item 3\"],\n    },\n    htmlTemplate:\n      \"<div><select multiple='multiple' style='width: 100%;'></select><textarea></textarea></div>\",\n    isFit: function (question) {\n      return question.getType() === \"tagbox\";\n    },\n    activatedByChanged: function (activatedBy) {\n      Survey.JsonObject.metaData.addClass(\n        \"tagbox\",\n        [\n          { name: \"hasOther:boolean\", visible: false },\n          { name: \"hasSelectAll:boolean\", visible: false },\n          { name: \"hasNone:boolean\", visible: false },\n          { name: \"otherText\", visible: false },\n          { name: \"selectAllText\", visible: false },\n          { name: \"noneText\", visible: false },\n        ],\n        null,\n        \"checkbox\"\n      );\n      Survey.JsonObject.metaData.addProperty(\"tagbox\", {\n        name: \"select2Config\",\n        category: \"general\",\n        default: null,\n      });\n      Survey.JsonObject.metaData.addProperty(\"tagbox\", {\n        name: \"placeholder\",\n        category: \"general\",\n        default: \"\",\n      });\n      Survey.JsonObject.metaData.addProperty(\"tagbox\", {\n        name: \"allowAddNewTag:boolean\",\n        category: \"general\",\n        default: false,\n      });\n    },\n    fixStyles: function (el) {\n      el.parentElement.querySelector(\".select2-search__field\").style.border =\n        \"none\";\n    },\n    afterRender: function (question, el) {\n      var self = this;\n      var select2Config = question.select2Config;\n      var settings =\n        select2Config && typeof select2Config == \"string\"\n          ? JSON.parse(select2Config)\n          : select2Config;\n      var $el = $(el).is(\"select\") ? $(el) : $(el).find(\"select\");\n\n      self.willUnmount(question, el);\n\n      if (!settings) settings = {};\n      settings.placeholder = question.placeholder;\n      settings.tags = question.allowAddNewTag;\n      if (question.allowAddNewTag) {\n        question.keepIncorrectValues = true;\n      }\n      settings.disabled = question.isReadOnly;\n      settings.theme = \"classic\";\n      if (!!question.maxSelectedChoices) {\n        settings.maximumSelectionLength = question.maxSelectedChoices;\n      }\n\n      $el.select2(settings);\n\n      var $otherElement = $(el).find(\"textarea\");\n      if (\n        !!question.survey &&\n        !!question.survey.css &&\n        !!question.survey.css.checkbox\n      ) {\n        $otherElement.addClass(question.survey.css.checkbox.other);\n      }\n      $otherElement.placeholder = question.otherPlaceHolder;\n      $otherElement.bind(\"input propertychange\", function () {\n        question.comment = $otherElement.val();\n      });\n      var updateComment = function () {\n        $otherElement.val(question.comment);\n        if (question.isOtherSelected) {\n          $otherElement.show();\n        } else {\n          $otherElement.hide();\n        }\n      };\n\n      self.fixStyles(el);\n      var question;\n      var updateValueHandler = function () {\n        if (question.hasSelectAll && question.isAllSelected) {\n          $el\n            .val([question.selectAllItemValue.value].concat(question.value))\n            .trigger(\"change\");\n        } else {\n          $el.val(question.value).trigger(\"change\");\n        }\n        self.fixStyles(el);\n        updateComment();\n      };\n      var updateChoices = function () {\n        $el.select2().empty();\n        if (settings.ajax) {\n          $el.select2(settings);\n        } else {\n          settings.data = question.visibleChoices.map(function (choice) {\n            return {\n              id: choice.value,\n              text: choice.text,\n            };\n          });\n          $el.select2(settings);\n        }\n        updateValueHandler();\n      };\n      var isAllItemSelected = function (value) {\n        return (\n          question.hasSelectAll && value === question.selectAllItemValue.value\n        );\n      };\n      question._propertyValueChangedFnSelect2 = function () {\n        updateChoices();\n      };\n\n      $otherElement.prop(\"disabled\", question.isReadOnly);\n      question.readOnlyChangedCallback = function () {\n        $el.prop(\"disabled\", question.isReadOnly);\n        $otherElement.prop(\"disabled\", question.isReadOnly);\n      };\n      question.registerFunctionOnPropertyValueChanged(\n        \"visibleChoices\",\n        question._propertyValueChangedFnSelect2\n      );\n      question.valueChangedCallback = updateValueHandler;\n      $el.on(\"select2:select\", function (e) {\n        if (isAllItemSelected(e.params.data.id)) {\n          question.selectAll();\n        } else {\n          question.value = (question.value || []).concat(e.params.data.id);\n        }\n        updateComment();\n      });\n      $el.on(\"select2:unselect\", function (e) {\n        const select2Val = e.params.data.id;\n        if (isAllItemSelected(select2Val)) {\n          question.clearValue();\n        } else {\n          const val = [].concat(question.renderedValue);\n          if (Array.isArray(val)) {\n            for (var i = 0; i < val.length; i++) {\n              if (val[i] == select2Val || (!!val[i] && val[i].toString() == select2Val)) {\n                val.splice(i, 1);\n                question.renderedValue = val;\n                break;\n              }\n            }\n          }\n        }\n        updateComment();\n      });\n      updateChoices();\n    },\n    willUnmount: function (question, el) {\n      if (!question._propertyValueChangedFnSelect2) return;\n\n      var $select2 = $(el).find(\"select\");\n      if (!!$select2.data(\"select2\")) {\n        $select2.off(\"select2:select\").select2(\"destroy\");\n      }\n      question.readOnlyChangedCallback = null;\n      question.valueChangedCallback = null;\n      question.unRegisterFunctionOnPropertyValueChanged(\n        \"visibleChoices\",\n        question._propertyValueChangedFnSelect2\n      );\n      question._propertyValueChangedFnSelect2 = undefined;\n    },\n    pdfQuestionType: \"checkbox\",\n  };\n\n  Survey.CustomWidgetCollection.Instance.addCustomWidget(widget, \"customtype\");\n}\n\nif (typeof Survey !== \"undefined\") {\n  init(Survey, window.$);\n}\n\nexport default init;\n","module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g><path d=\\\"M15,11H0V5h15V11z M1,10h13V6H1V10z\\\"></path></g><rect x=\\\"2\\\" y=\\\"7\\\" width=\\\"4\\\" height=\\\"2\\\"></rect><rect x=\\\"7\\\" y=\\\"7\\\" width=\\\"4\\\" height=\\\"2\\\"></rect></svg>\""],"sourceRoot":""}